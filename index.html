<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Яндекс.Дом</title>
    <link
      rel="preload"
      as="font"
      href="assets/lato.woff2"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
      html {
        font-family: "Lato", sans-serif;
        font-size: 16px;
        line-height: 1.5;
        color: #333;
      }
      body {
        margin: 0;
        padding: 0;
        background: #f5f5f5;
      }
      html,
      body {
        height: 100%;
      }
      .a11y-hidden {
        position: absolute !important;
        clip: rect(0 0 0 0) !important;
        width: 1px !important;
        height: 1px !important;
        margin: -1px !important;
        border: 0 !important;
        padding: 0 !important;
        overflow: hidden !important;
      }
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 2rem;
        background: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      @media (max-width: 768px) {
        .header {
          padding: 1rem;
        }
      }
      @media (max-width: 768px) {
        .header__logo {
          width: 100px;
          height: 32px;
        }
      }
      @media (max-width: 768px) {
        .header__menu {
          display: block;
          width: 2rem;
          height: 2rem;
          background: url(assets/arrow-left.png) no-repeat center;
          border: none;
          cursor: pointer;
        }
      }
      @media (max-width: 768px) {
        .header__links {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background: #fff;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          z-index: 1000;
          flex-direction: column;
          padding: 1rem;
        }
      }
      @media (max-width: 768px) {
        .header__links-toggled {
          display: block !important;
        }
      }
      @media (max-width: 768px) {
        .header__links_opened {
          display: flex !important;
          flex-direction: column;
          animation: showMenu 0.3s ease-in-out;
        }
      }
      @keyframes showMenu {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes hideMenu {
        from {
          opacity: 1;
          transform: translateY(0);
        }
        to {
          opacity: 0;
          transform: translateY(-10px);
        }
      }
      .header__item {
        list-style: none;
      }
      .header__link {
        text-decoration: none;
        color: #333;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        transition: background-color 0.2s;
      }
      .header__link:hover {
        background: #f0f0f0;
      }
      .header__link_current {
        background: #007cba;
        color: #fff;
      }
      .main {
        padding: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      @media (max-width: 768px) {
        .main {
          padding: 1rem;
        }
      }
      @media (max-width: 1024px) {
        .main {
          max-width: 100%;
        }
      }
      .main__devices {
        margin-top: 2rem;
      }
      @media (max-width: 1024px) {
        .main__devices {
          margin-top: 1rem;
        }
      }
      .section__title-header {
        margin: 0 0 1rem;
        font-size: 1.5rem;
        font-weight: bold;
      }
      .section__title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
      }
      @media (max-width: 768px) {
        .section__title {
          flex-direction: column;
          align-items: flex-start;
          gap: 1rem;
        }
        .section__main-title {
          margin-bottom: 0;
        }
      }
      .section__select {
        padding: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        background: #fff;
      }
      @media (max-width: 768px) {
        .section__select {
          width: 100%;
        }
      }
      .section__tabs {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 1rem;
      }
      @media (max-width: 768px) {
        .section__tabs {
          overflow-x: auto;
          padding-bottom: 0.5rem;
        }
      }
      .section__tab {
        padding: 0.5rem 1rem;
        background: #f0f0f0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.2s;
        font-size: 0.9rem;
      }
      .section__tab_active {
        background: #007cba;
        color: #fff;
      }
      .section__tab:not(.section__tab_active):hover {
        background: #e0e0e0;
      }
      .hero-dashboard {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 2rem;
        background: #fff;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      @media (max-width: 768px) {
        .hero-dashboard {
          grid-template-columns: 1fr;
          gap: 1rem;
          padding: 1rem;
        }
      }
      .hero-dashboard__primary {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      @media (max-width: 768px) {
        .hero-dashboard__primary {
          gap: 0.5rem;
        }
      }
      .hero-dashboard__title {
        font-size: 2rem;
        font-weight: bold;
        margin: 0;
      }
      @media (max-width: 768px) {
        .hero-dashboard__title {
          font-size: 1.5rem;
        }
      }
      .hero-dashboard__subtitle {
        font-size: 1.1rem;
        color: #666;
        margin: 0;
      }
      @media (max-width: 768px) {
        .hero-dashboard__subtitle {
          font-size: 1rem;
        }
      }
      .hero-dashboard__info {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 2rem;
      }
      @media (max-width: 768px) {
        .hero-dashboard__info {
          gap: 1rem;
        }
      }
      .hero-dashboard__item {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      @media (max-width: 768px) {
        .hero-dashboard__item-title {
          font-size: 0.9rem;
        }
      }
      .hero-dashboard__item-title {
        font-size: 0.9rem;
        color: #666;
      }
      @media (max-width: 768px) {
        .hero-dashboard__item-title {
          font-size: 0.8rem;
        }
      }
      .hero-dashboard__item-details {
        font-size: 1.5rem;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      @media (max-width: 768px) {
        .hero-dashboard__item-details {
          font-size: 1.2rem;
        }
      }
      .hero-dashboard__icon {
        width: 24px;
        height: 24px;
        background-size: contain;
        background-repeat: no-repeat;
      }
      @media (max-width: 768px) {
        .hero-dashboard__icon {
          width: 20px;
          height: 20px;
        }
      }
      .hero-dashboard__icon_rain {
        background-image: url(assets/cloud-drizzle.svg);
      }
      .hero-dashboard__schedule {
        display: flex;
        flex-direction: column;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 1rem;
        max-height: 300px;
        overflow-y: auto;
      }
      @media (max-width: 768px) {
        .hero-dashboard__schedule {
          max-height: 200px;
        }
      }
      .event__button {
        display: flex;
        align-items: center;
        gap: 1rem;
        width: 100%;
        padding: 1rem;
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        text-align: left;
        font-family: inherit;
      }
      .event_slim .event__button {
        padding: 0.75rem;
      }
      .event__button:hover {
        background: #e9ecef;
        transform: translateY(-2px);
      }
      .event__icon {
        width: 32px;
        height: 32px;
        background-size: contain;
        background-repeat: no-repeat;
        flex-shrink: 0;
      }
      .event__icon_temp {
        background-image: url(assets/icon_temperature.svg);
      }
      .event__icon_temp2 {
        background-image: url(assets/icon_temperature_2.svg);
      }
      .event__icon_light {
        background-image: url(assets/icon_sun.svg);
      }
      .event__icon_light2 {
        background-image: url(assets/icon_sun_2.svg);
      }
      .event__icon_schedule {
        background-image: url(assets/icon_scheduled.svg);
      }
      .event__title {
        font-size: 1rem;
        font-weight: bold;
        margin: 0;
        color: #333;
      }
      .event__subtitle {
        font-size: 0.9rem;
        color: #666;
        margin-top: 0.25rem;
      }
      .event-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        list-style: none;
        margin: 0;
        padding: 0;
      }
      @media (max-width: 768px) {
        .event-grid {
          grid-template-columns: 1fr;
          overflow-x: auto;
          padding-bottom: 0.5rem;
        }
      }
      .section__panel {
        overflow-x: auto;
      }
      @media (max-width: 768px) {
        .section__panel::-webkit-scrollbar {
          height: 4px;
        }
      }
      .section__panel_hidden {
        display: none;
      }
      .section__panel-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
        list-style: none;
        margin: 0;
        padding: 0;
      }
      .section__panel-wrapper {
        position: relative;
      }
      .section__arrow {
        position: absolute;
        right: -20px;
        top: 50%;
        transform: translateY(-50%);
        width: 40px;
        height: 40px;
        background: url(assets/arrow-down.svg) no-repeat center;
        background-size: contain;
        cursor: pointer;
        z-index: 10;
      }
      .section__arrow:hover {
        opacity: 0.7;
      }
      .footer {
        background: #fff;
        padding: 2rem;
        margin-top: 2rem;
        border-top: 1px solid #e9ecef;
      }
      @media (max-width: 768px) {
        .footer {
          padding: 1rem;
          margin-top: 1rem;
        }
      }
      .footer__list {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 2rem;
        justify-content: center;
      }
      @media (max-width: 768px) {
        .footer__list {
          flex-direction: column;
          gap: 1rem;
          align-items: center;
        }
      }
      .footer__link {
        text-decoration: none;
        color: #666;
        transition: color 0.2s;
      }
      .footer__link:hover {
        color: #333;
      }
      .footer__copyright {
        text-align: center;
        color: #999;
        margin-top: 1rem;
        font-size: 0.9rem;
      }
      @media (max-width: 768px) {
        .footer__copyright {
          margin-top: 0.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <footer class="footer">
      <ul class="footer__list">
        <li class="footer__item">
          <a class="footer__link" href="/">Помощь</a>
        </li>
        <li class="footer__item">
          <a class="footer__link" href="/">Обратная связь</a>
        </li>
        <li class="footer__item">
          <a class="footer__link" href="/">Разработчикам</a>
        </li>
        <li class="footer__item">
          <a class="footer__link" href="/">Условия использования</a>
        </li>
      </ul>
      <div class="footer__copyright">© 1997–2023 ООО «Яндекс»</div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const { useState, useRef, useEffect, createElement, Fragment } = React;
        const { createRoot } = ReactDOM;
        function Header() {
          const [expanded, setExpanded] = useState(false);
          const [toggled, setToggled] = useState(false);
          const onClick = () => {
            if (!toggled) setToggled(true);
            setExpanded(!expanded);
          };
          return createElement(
            "header",
            { className: "header" },
            createElement("a", {
              href: "/",
              className: "header__logo",
              "aria-label": "Яндекс.Дом",
            }),
            createElement(
              "button",
              {
                className: "header__menu",
                "aria-expanded": expanded ? "true" : "false",
                onClick,
              },
              createElement(
                "span",
                { className: "header__menu-text a11y-hidden" },
                expanded ? "Закрыть меню" : "Открыть меню"
              )
            ),
            createElement(
              "ul",
              {
                className:
                  "header__links" +
                  (expanded ? " header__links_opened" : "") +
                  (toggled ? " header__links-toggled" : ""),
              },
              createElement(
                "li",
                { className: "header__item" },
                createElement(
                  "a",
                  {
                    className: "header__link header__link_current",
                    href: "/",
                    "aria-current": "page",
                  },
                  "Сводка"
                )
              ),
              createElement(
                "li",
                { className: "header__item" },
                createElement(
                  "a",
                  { className: "header__link", href: "/devices" },
                  "Устройства"
                )
              ),
              createElement(
                "li",
                { className: "header__item" },
                createElement(
                  "a",
                  { className: "header__link", href: "/scripts" },
                  "Сценарии"
                )
              )
            )
          );
        }
        function Event(props) {
          const ref = useRef();
          const { onSize } = props;
          useEffect(() => {
            const width = ref.current.offsetWidth;
            const height = ref.current.offsetHeight;
            if (onSize) onSize({ width, height });
          });
          return createElement(
            "li",
            { ref, className: "event" + (props.slim ? " event_slim" : "") },
            createElement(
              "button",
              { className: "event__button" },
              createElement("span", {
                className: `event__icon event__icon_${props.icon}`,
                role: "img",
                "aria-label": props.iconLabel,
              }),
              createElement("h4", { className: "event__title" }, props.title),
              props.subtitle &&
                createElement(
                  "span",
                  { className: "event__subtitle" },
                  props.subtitle
                )
            )
          );
        }
        const TABS = {
          all: {
            title: "Все",
            items: [
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Yeelight LED Smart Bulb",
                subtitle: "Включено",
              },
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "D-Link Omna 180 Cam",
                subtitle: "Включится в 17:00",
              },
              {
                icon: "temp",
                iconLabel: "Температура",
                title: "Elgato Eve Degree Connected",
                subtitle: "Выключено до 17:00",
              },
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "LIFX Mini Day & Dusk A60 E27",
                subtitle: "Включится в 17:00",
              },
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Mi Air Purifier 2S",
                subtitle: "Включено",
              },
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "Philips Zhirui",
                subtitle: "Включено",
              },
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "Philips Zhirui",
                subtitle: "Включено",
              },
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Mi Air Purifier 2S",
                subtitle: "Включено",
              },
            ],
          },
          kitchen: {
            title: "Кухня",
            items: [
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Yeelight LED Smart Bulb",
                subtitle: "Включено",
              },
              {
                icon: "temp",
                iconLabel: "Температура",
                title: "Elgato Eve Degree Connected",
                subtitle: "Выключено до 17:00",
              },
            ],
          },
          hall: {
            title: "Зал",
            items: [
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "Philips Zhirui",
                subtitle: "Выключено",
              },
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Mi Air Purifier 2S",
                subtitle: "Выключено",
              },
            ],
          },
          lights: {
            title: "Лампочки",
            items: [
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "D-Link Omna 180 Cam",
                subtitle: "Включится в 17:00",
              },
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "LIFX Mini Day & Dusk A60 E27",
                subtitle: "Включится в 17:00",
              },
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Mi Air Purifier 2S",
                subtitle: "Включено",
              },
              {
                icon: "light",
                iconLabel: "Освещение",
                title: "Philips Zhirui",
                subtitle: "Включено",
              },
            ],
          },
          cameras: {
            title: "Камеры",
            items: [
              {
                icon: "light2",
                iconLabel: "Освещение",
                title: "Xiaomi Mi Air Purifier 2S",
                subtitle: "Включено",
              },
            ],
          },
        };
        for (let i = 0; i < 6; ++i) {
          TABS.all.items = [...TABS.all.items, ...TABS.all.items];
        }
        const TABS_KEYS = Object.keys(TABS);
        function Main() {
          const ref = useRef();
          const initedRef = useRef(false);
          const [activeTab, setActiveTab] = useState("");
          const [hasRightScroll, setHasRightScroll] = useState(false);
          useEffect(() => {
            if (!activeTab && !initedRef.current) {
              initedRef.current = true;
              setActiveTab(
                new URLSearchParams(location.search).get("tab") || "all"
              );
            }
          });
          const onSelectInput = (event) => {
            setActiveTab(event.target.value);
          };
          let sizes = [];
          const onSize = (size) => {
            sizes = [...sizes, size];
          };
          useEffect(() => {
            const sumWidth = sizes.reduce((acc, item) => acc + item.width, 0);
            const sumHeight = sizes.reduce((acc, item) => acc + item.height, 0);
            const newHasRightScroll = sumWidth > ref.current.offsetWidth;
            if (newHasRightScroll !== hasRightScroll)
              setHasRightScroll(newHasRightScroll);
          });
          const onArrowCLick = () => {
            const scroller = ref.current.querySelector(
              ".section__panel:not(.section__panel_hidden)"
            );
            if (scroller) {
              scroller.scrollTo({
                left: scroller.scrollLeft + 400,
                behavior: "smooth",
              });
            }
          };
          return createElement(
            "main",
            { className: "main" },
            createElement(
              "section",
              { className: "section main__general" },
              createElement(
                "h2",
                {
                  className:
                    "section__title section__title-header section__main-title",
                },
                "Главное"
              ),
              createElement(
                "div",
                { className: "hero-dashboard" },
                createElement(
                  "div",
                  { className: "hero-dashboard__primary" },
                  createElement(
                    "h3",
                    { className: "hero-dashboard__title" },
                    "Привет, Геннадий!"
                  ),
                  createElement(
                    "p",
                    { className: "hero-dashboard__subtitle" },
                    "Двери и окна закрыты, сигнализация включена."
                  ),
                  createElement(
                    "ul",
                    { className: "hero-dashboard__info" },
                    createElement(
                      "li",
                      { className: "hero-dashboard__item" },
                      createElement(
                        "div",
                        { className: "hero-dashboard__item-title" },
                        "Дома"
                      ),
                      createElement(
                        "div",
                        { className: "hero-dashboard__item-details" },
                        "+23",
                        createElement("span", { className: "a11y-hidden" }, "°")
                      )
                    ),
                    createElement(
                      "li",
                      { className: "hero-dashboard__item" },
                      createElement(
                        "div",
                        { className: "hero-dashboard__item-title" },
                        "За окном"
                      ),
                      createElement(
                        "div",
                        { className: "hero-dashboard__item-details" },
                        "+19",
                        createElement(
                          "span",
                          { className: "a11y-hidden" },
                          "°"
                        ),
                        createElement("div", {
                          className:
                            "hero-dashboard__icon hero-dashboard__icon_rain",
                          role: "img",
                          "aria-label": "Дождь",
                        })
                      )
                    )
                  )
                ),
                createElement(
                  "ul",
                  { className: "hero-dashboard__schedule" },
                  createElement(Event, {
                    icon: "temp",
                    iconLabel: "Температура",
                    title: "Philips Cooler",
                    subtitle: "Начнет охлаждать в 16:30",
                  }),
                  createElement(Event, {
                    icon: "light",
                    iconLabel: "Освещение",
                    title: "Xiaomi Yeelight LED Smart Bulb",
                    subtitle: "Включится в 17:00",
                  }),
                  createElement(Event, {
                    icon: "light",
                    iconLabel: "Освещение",
                    title: "Xiaomi Yeelight LED Smart Bulb",
                    subtitle: "Включится в 17:00",
                  })
                )
              )
            ),
            createElement(
              "section",
              { className: "section main__scripts" },
              createElement(
                "h2",
                { className: "section__title section__title-header" },
                "Избранные сценарии"
              ),
              createElement(
                "ul",
                { className: "event-grid" },
                createElement(Event, {
                  slim: true,
                  icon: "light2",
                  iconLabel: "Освещение",
                  title: "Выключить весь свет в доме и во дворе",
                }),
                createElement(Event, {
                  slim: true,
                  icon: "schedule",
                  iconLabel: "Расписание",
                  title: "Я ухожу",
                }),
                createElement(Event, {
                  slim: true,
                  icon: "light2",
                  iconLabel: "Освещение",
                  title: "Включить свет в коридоре",
                }),
                createElement(Event, {
                  slim: true,
                  icon: "temp2",
                  iconLabel: "Температура",
                  title: "Набрать горячую ванну",
                  subtitle: "Начнётся в 18:00",
                }),
                createElement(Event, {
                  slim: true,
                  icon: "temp2",
                  iconLabel: "Температура",
                  title: "Сделать пол тёплым во всей квартире",
                })
              )
            ),
            createElement(
              "section",
              { className: "section main__devices" },
              createElement(
                "div",
                { className: "section__title" },
                createElement(
                  "h2",
                  { className: "section__title-header" },
                  "Избранные устройства"
                ),
                createElement(
                  "select",
                  {
                    className: "section__select",
                    defaultValue: "all",
                    onInput: onSelectInput,
                  },
                  TABS_KEYS.map((key) =>
                    createElement(
                      "option",
                      { key, value: key },
                      TABS[key].title
                    )
                  )
                ),
                createElement(
                  "ul",
                  { role: "tablist", className: "section__tabs" },
                  TABS_KEYS.map((key) =>
                    createElement(
                      "li",
                      {
                        key,
                        role: "tab",
                        "aria-selected": key === activeTab ? "true" : "false",
                        tabIndex: key === activeTab ? "0" : undefined,
                        className:
                          "section__tab" +
                          (key === activeTab ? " section__tab_active" : ""),
                        id: `tab_${key}`,
                        "aria-controls": `panel_${key}`,
                        onClick: () => setActiveTab(key),
                      },
                      TABS[key].title
                    )
                  )
                )
              ),
              createElement(
                "div",
                { className: "section__panel-wrapper", ref },
                TABS_KEYS.map((key) =>
                  createElement(
                    "div",
                    {
                      key,
                      role: "tabpanel",
                      className:
                        "section__panel" +
                        (key === activeTab ? "" : " section__panel_hidden"),
                      "aria-hidden": key === activeTab ? "false" : "true",
                      id: `panel_${key}`,
                      "aria-labelledby": `tab_${key}`,
                    },
                    createElement(
                      "ul",
                      { className: "section__panel-list" },
                      TABS[key].items.map((item, index) =>
                        createElement(Event, {
                          key: index,
                          ...item,
                          onSize,
                        })
                      )
                    )
                  )
                ),
                hasRightScroll &&
                  createElement("div", {
                    className: "section__arrow",
                    onClick: onArrowCLick,
                  })
              )
            )
          );
        }
        setTimeout(() => {
          const root = createRoot(document.getElementById("app"));
          root.render(
            createElement(
              Fragment,
              null,
              createElement(Header),
              createElement(Main)
            )
          );
        }, 100);
      });
    </script>
  </body>
</html>
